
![Диаграмма Ганта](https://github.com/Kromval/BookStoreAPI/blob/master/Docs/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%93%D0%B0%D0%BD%D1%82%D0%B0-2025-03-28-13-10-14.png?raw=true)
## 1. Подготовительный этап

**Сроки:** 1 апреля 2025 (вторник)

- Ознакомление с техническим заданием и первичная настройка окружения.
- Создание репозитория, базовой структуры проекта (.NET Web API, EF Core).
- Настройка CI/CD (GitHub Actions, Docker-Compose для БД, проверка миграций).
---

## 2. Разработка бэкенда

**Общий период:** 1 апреля 2025 (вторник) – 17 апреля 2025 (четверг)
1. **Разработка моделей (Entity) и контекста данных**
    - **Сроки:** 1 апреля 2025 (вт) – 4 апреля 2025 (пт)
    - **Задачи:**
        - Спроектировать сущности: `User`, `Product`, `Order`, `OrderItem` (аннотации, навигационные свойства).
        - Настроить `AppDbContext`:
            - Прописать `DbSet<>` для всех сущностей;
            - Установить связи через Fluent API (One-To-Many между Order ↔ OrderItem, User ↔ Order);
            - Добавить конвертацию enum’ов (например, `OrderStatus`) в string.
        - Создать и проверить первые миграции EF Core.
        - Реализовать `DbInitializer` для первичной загрузки тестовых данных (seed).
            
2. **Реализация сервисного слоя (бизнес-логика и утилиты)**
    - **Сроки:** 7 апреля 2025 (пн) – 10 апреля 2025 (чт)
    - **Задачи:**
        - Создать `JwtService` для генерации и валидации JWT-токенов:
            - Реализовать метод `GenerateToken(User user)`: сформировать Claims (Id, роль, e-mail), установить время жизни (12 ч), подписать секретным ключом.
            - Реализовать проверку/валидацию токена
        - При необходимости вынести общие методы работы с БД (репозитории или обёртки DbContext).
        - Настроить зависимость `JwtService`
3. **Реализация контроллеров**
    - **Сроки:** 9 апреля 2025 (ср) – 11 апреля 2025 (пт)
    - **Задачи:**
        - **ProductsController**:
            - `GET /api/products` – возвращает список всех продуктов;
            - `GET /api/products/{id}` – детали конкретной книги;
            - `POST /api/products` (роль Admin) – создание новой книги;
            - `PUT /api/products/{id}` (Admin) – обновление;
            - `DELETE /api/products/{id}` (Admin) – удаление.
        - **OrdersController**:
            - `POST /api/orders` (Authorize) – создание заказа (приём списка OrderItemDto, сверка stock → уменьшение);
            - `GET /api/orders` (Authorize) – список заказов текущего пользователя;
            - `GET /api/orders/{id}` (Authorize) – детали заказа (own only или Admin);
            - `PUT /api/orders/{id}/status` (Authorize, только Admin) – изменение статуса заказа (через UpdateOrderStatusDto).
        - **UsersController**:
            - `[Authorize(Roles = "Admin")]` ко всем методам;
            - `GET /api/users` – список всех пользователей;
            - `GET /api/users/{id}` – получать конкретного пользователя;
            - `PUT /api/users/{id}` – обновление (e-mail, роль, и т. д.);
            - `DELETE /api/users/{id}` – удаление пользователя.
        - Настроить `[ApiController]`, маршруты `api/[controller]`, атрибуты `[Authorize]`/`[AllowAnonymous]` по необходимости.
            
4. **Аутентификация и авторизация (JWT)**
    - **Сроки:** 11 апреля 2025 (пт) – 14 апреля 2025 (пн)
    - **Задачи:**
        - **AuthController**:
            - `POST /api/auth/register`:
                - Принимает RegisterDto (Username, Email, Password);
                - Проверяет уникальность (Username/Email) в таблице Users;
                - Хэширует пароль через `BCrypt.Net.BCrypt.HashPassword`;
                - Создаёт User с ролью по умолчанию (User), сохраняет в БД;
                - Возвращает 201 Created (либо 400 Bad Request при дублировании).
            - `POST /api/auth/login`:
                - Принимает LoginDto (Username, Password);
                - Находит пользователя по Username, если не найден – 401 Unauthorized;
                - `BCrypt.Verify` для сравнения паролей;

## 3. Разработка фронтенда

**Общий период:** 15 апреля 2025 (вторник) – 23 апреля 2025 (среда)

1. **Реализация клиентского интерфейса (catalog, карточка товара, корзина)**
    - **Сроки:** 15 апреля 2025 (вт) – 18 апреля 2025 (пт)
    - **Задачи:**
        - Настроить структуру фронтенд-проекта 
        - Установить базовые зависимости: React Router (для роутинга), Axios  для HTTP-запросов, стейт-менеджер.
        - Создать страницу “Каталог” (`/products`):
            - Запрос `GET /api/products`;
            - Отобразить список книг с изображением, названием, автором, ценой.
            - Добавить кнопку “Добавить в корзину” (минимальная логика: сохранять в локальном стейте).
        - Компонент “Карточка товара” (`/products/:id`):
            - Запрос `GET /api/products/{id}`;
            - Отображение детальной информации (описание, оставшееся на складе, кнопка “в корзину”).
        - “Корзина” (`/cart`):
            - Отображает выбранные позиции (название, количество, цена);
            - Суммарная стоимость, кнопка “Оформить заказ” (переводит на страницу оформления).
        - Базовые стили
2. **Реализация админ-панели**
    - **Сроки:** 17 апреля 2025 (четверг) – 21 апреля 2025 (понедельник)
    - **Задачи:**
        - Создать отдельный раздел (route) `/admin` (доступен только авторизованным с ролью Admin).
        - **Управление товарами** (`/admin/products`):
            - Таблица со списком всех книг (ID, title, author, price, stock).
            - Кнопка “Создать новый товар” → форма (Title, Author, Price, Stock, ImageUrl).
            - Кнопки “Редактировать” (открывает форму с заполненными полями) и “Удалить”.
            - При сохранении/удалении выполнять запросы к `POST/PUT/DELETE /api/products`.
        - **Управление пользователями** (`/admin/users`):
            - Таблица со всеми зарег. пользователями (ID, Username, Email, Role).
            - Кнопки “Изменить роль” (dropdown; User/Admin) и “Удалить”.
            - Запросы к `GET /api/users`, `PUT /api/users/{id}`, `DELETE /api/users/{id}`.
        - **Управление заказами** (`/admin/orders`):
            - Список всех заказов (ID заказа, клиент, дата, статус, сумма).
            - При клике → детали (OrderItems, адрес, контакт).
            - Возможность изменить статус заказа (например, New → Processing → Completed).
            - Запросы к `GET /api/orders/all`, `PUT /api/orders/{id}/status`.
        - Реализовать проверку роли (при получении JWT в localStorage → запрос `GET /api/auth/me` или читать Payload токена).
        - Защитить маршруты `/admin/*` перенаправлением на `/login` при отсутствии или недостаточной роли.
            
3. **Интеграция с API (связь фронтенда и бэкенда)**
    - **Сроки:** 21 апреля 2025 (понедельник) – 23 апреля 2025 (среда)
    - **Задачи:**
        - Настроить базовый URL для HTTP-клиента (например, `axios.defaults.baseURL = "http://localhost:5034"`).
        - Внедрить interceptor’ы:
            - Добавлять JWT-токен в `Authorization: Bearer …` при запросах к защищённым эндпоинтам.
            - Обрабатывать 401 Unauthorized (редирект на `/login`).
        - Проверить все ключевые сценарии:
            - Регистрация/вход → получение и сохранение токена.
            - Получение товара/каталога → корректное отображение.
            - Оформление заказа → POST `/api/orders`, очистка корзины, перенаправление на “Спасибо за заказ”.
            - Админ-функционал: CRUD товаров, CRUD пользователей, управление заказами.

---

## 4. Интеграция и тестирование

**Сроки:** 21 апреля 2025 (понедельник) – 30 апреля 2025 (среда)

1. **Интеграционные тесты (бэкенд)**
    - Написать Unit Tests для сервисов (например, `JwtService`, репозиториев).
    - Создать несколько интеграционных тестов с помощью `WebApplicationFactory<Program>` и SQLite/In-Memory DB:
        - Регистрация/вход пользователя (`AuthController`).
        - CRUD продуктов (`ProductsController`) с разными ролями.
        - Создание заказа, попытка заказать книгу с недостаточным stock → ожидаем ошибку.
    - Проверить валидацию входящих DTO (ошибки 400 при пустых или некорректных полях).
2. **Интеграция фронтенда и бэкенда (сквозное тестирование)**
    - Проверить основные сценарии “с конца в конец”:
        1. Новый пользователь: регистрация → сохранение токена → просмотр каталога.
        2. Добавление в корзину, оформление заказа → переход в личный кабинет → список заказов.
        3. Вход как Admin → управление товарами, создание/редактирование/удаление.
        4. Вход как Admin → просмотр списка всех пользователей, изменение ролей.
        5. Вход как Admin → изменение статуса заказа, проверка, что статус отображается корректно у клиента.
    - Параллельно фикс баги (CORS, некорректные ответы, неверные заголовки, отсутствие проверок).
3. **Тестирование UX/UI (фронтенд)**
    - Проверить, что интерфейс одинаково корректно смотрится в разных браузерах (Chrome, Firefox) и в мобильной версии.
        
    - Опросить нескольких коллег/заказчика (если есть возможность) для быстрой обратной связи по юзабилити:
        
        - Удобство добавления товара в корзину.
            
        - Ясность админ-панели, понятность ошибок.
            
    - Составить список багов/улучшений и приоритизировать критичные (привязать к баг-трекеру, например Trello/Jira).
        
